# 直播间冲动消费挑战

## 项目介绍

一个基于WPF的交互式桌面应用，模拟真实直播间购物场景，让用户亲身体验和理解数字经济中的冲动消费心理机制。通过游戏化方式展示稀缺效应、从众心理、话术影响等消费心理学原理，帮助用户培养理性消费意识。

## 功能特点

- 🎮 **沉浸式游戏体验**：高度还原直播间购物场景，包括倒计时、商品展示、购买决策等核心元素
- 📊 **实时状态监控**：动态显示玩家资金、理性值、欲望值和回合数，直观反映决策影响
- 🧠 **深度心理模拟**：
  - 稀缺效应：倒计时机制制造紧迫感
  - 从众心理：已售数量影响购买决策
  - 话术影响：不同等级话术产生不同心理暗示
  - 分期支付：降低支付痛感，增加购买可能性
- 📝 **智能行为分析**：游戏结束后生成多维度消费行为报告，包含12+项心理分析指标
- 🎨 **现代化UI设计**：
  - 卡片式布局，层次分明
  - 阴影效果，增强视觉深度
  - 响应式设计，信息展示清晰
  - 流畅的状态切换动画

## 技术栈

- **语言**：C#
- **框架**：WPF (.NET 9.0)
- **设计模式**：MVVM (Model-View-ViewModel)
- **构建工具**：dotnet CLI

## 项目结构

```
ImpulseLive.WPF
├── Converters/       # 数据绑定转换器
│   ├── BooleanToYesNoConverter.cs
│   └── BooleanToBackgroundColorConverter.cs
├── Models/           # 数据模型
│   ├── GameState.cs       # 游戏状态枚举
│   ├── Player.cs         # 玩家模型
│   ├── Product.cs        # 商品模型
│   └── BehaviorStats.cs  # 行为统计模型
├── Services/         # 业务逻辑服务
│   ├── ProductFactory.cs   # 固定商品列表生成
│   ├── DecisionService.cs   # 消费决策处理
│   └── ResultAnalyzer.cs   # 结果分析服务
├── ViewModels/       # 视图模型
│   └── GameViewModel.cs  # 游戏核心逻辑
├── MainWindow.xaml         # 主窗口界面
├── MainWindow.xaml.cs      # 窗口事件处理
├── App.xaml               # 应用配置
└── README.md             # 项目文档
```

## 如何运行

### 前置条件

- 安装 .NET SDK 9.0 或更高版本
- 安装 Visual Studio 2022 或更高版本（可选，用于开发）

### 运行方法

#### 方法一：使用命令行

1. 克隆或下载项目到本地
2. 打开命令行，导航到项目根目录
3. 运行以下命令：

```bash
dotnet run
```

#### 方法二：使用 Visual Studio

1. 使用 Visual Studio 打开 `ImpulseLive.WPF.csproj` 文件
2. 点击工具栏中的 "开始调试" 按钮（绿色三角形图标）或按 F5 键

## 游戏说明

### 游戏流程

1. **开始界面**：点击"开始挑战"按钮进入游戏
2. **游戏界面**：
   - 左侧显示倒计时，制造紧迫感
   - 右侧展示商品卡片，包含名称、话术描述、价格、已售数量、话术等级和分期选项
   - 底部提供三个决策按钮
3. **结算分析**：游戏结束后显示详细的消费行为统计和心理分析报告
4. **返回菜单**：从结算页面可返回开始界面，重新开始挑战

### 决策按钮

- **立即购买**：购买当前商品，消耗资金，降低理性值，增加欲望值
- **加入购物车**：犹豫不决，小幅降低理性值，大幅增加欲望值（每回合仅限一次）
- **不买**：拒绝购买，增加理性值，降低欲望值

### 游戏规则

- 初始资金：$1000
- 初始理性值：100
- 理性值 ≤ 0 或 资金 ≤ 0 → 游戏结束
- 游戏持续100回合或直到理性值/资金耗尽
- 每回合只能点击一次"加入购物车"按钮

## 核心模型说明

### 玩家模型

| 属性 | 初始值 | 说明 |
|------|--------|------|
| Money | 1000 | 玩家可用资金 |
| Rationality | 100 | 理性判断能力，≤ 0 游戏结束 |
| Desire | 0 | 消费欲望强度，影响决策倾向 |
| BuyCount | 0 | 累计购买次数 |
| HesitateCount | 0 | 累计犹豫次数 |
| RefuseCount | 0 | 累计拒绝次数 |

### 商品模型

| 属性 | 说明 |
|------|------|
| Name | 商品名称 |
| Price | 商品价格 |
| SoldCount | 已售数量，体现从众效应 |
| TimeLimit | 倒计时（秒），制造稀缺感 |
| RhetoricLevel | 话术等级（1-5），影响心理暗示强度 |
| RhetoricDescription | 话术等级对应的详细描述文本 |
| HasInstallment | 是否支持分期支付 |

### 行为统计

| 属性 | 说明 |
|------|------|
| BuyUnderTimePressure | 在时间压力下的购买次数 |
| BuyHighSold | 受高销量影响的购买次数 |
| InstallmentUsed | 使用分期支付的购买次数 |

## 心理分析指标

游戏结束后，系统会生成包含以下12项指标的心理分析报告：

1. **限时购买分析**：是否受到时间压力影响
2. **从众购买分析**：是否受到他人购买行为影响
3. **分期使用分析**：分期支付对决策的影响
4. **购买频率分析**：反映消费倾向强弱
5. **犹豫行为分析**：体现内心消费冲突程度
6. **理性值变化分析**：判断理性控制能力
7. **欲望值变化分析**：评估受营销影响程度
8. **决策模式分析**：偏向购买还是拒绝
9. **消费克制能力分析**：抵制诱惑的能力
10. **理性与欲望平衡分析**：决策主导因素
11. **消费习惯稳定性分析**：决策过程的果断程度
12. **不同因素影响权重分析**：哪种因素影响最大
13. **消费压力感知分析**：资金状况对决策的影响

## 固定商品列表

游戏采用精心设计的固定商品列表，确保游戏体验的一致性和平衡性：

| 商品名称 | 价格 | 话术等级 | 分期选项 |
|----------|------|----------|----------|
| 时尚无线耳机 | $199 | 3 | 支持 |
| 智能运动手环 | $99 | 2 | 支持 |
| 高端护肤品套装 | $299 | 4 | 支持 |
| 新款智能手机 | $799 | 5 | 支持 |
| 舒适家居拖鞋 | $29 | 1 | 不支持 |

## 界面设计亮点

### 商品卡片
- 采用圆角设计和阴影效果，增强视觉层次感
- 清晰的信息层级，突出关键数据
- 话术等级使用文字描述，更易理解
- 紧凑的布局，避免信息遮挡

### 结算页面
- 简洁的玩家数据统计
- 直观的心理分析报告
- 优化的窗口大小和字体大小
- 便捷的返回菜单功能

## 开发说明

### 调试

1. 使用 Visual Studio 打开项目
2. 按 F5 键开始调试
3. 使用断点和调试窗口查看变量和执行流程

### 构建

```bash
# 构建项目
dotnet build

# 发布项目
dotnet publish -c Release -r win-x64 --self-contained true
```

### 测试

建议手动测试以下场景：

1. 开始游戏流程，确保页面正确刷新
2. 三种决策按钮的功能和状态变化
3. 倒计时机制和回合切换
4. 游戏结束条件触发
5. 分析报告生成
6. 返回菜单功能
7. "加入购物车"按钮的点击限制

## 扩展建议

1. 添加更多商品类型和属性
2. 实现更复杂的消费心理模型
3. 增加商品图片和更丰富的视觉效果
4. 支持不同难度级别和游戏模式
5. 添加历史记录和对比功能
6. 实现社交分享功能
7. 添加音效和背景音乐

## 许可证

MIT License

## 贡献

欢迎提交 Issues 和 Pull Requests！

## 版本历史

- v1.0.0: 初始版本，包含核心游戏功能
- v1.1.0: 优化UI设计，增强视觉效果
- v1.2.0: 改进商品卡片布局，修复信息遮挡问题
- v1.3.0: 丰富心理分析指标，完善报告内容
- v1.4.0: 实现固定商品列表，优化游戏平衡性
- v1.5.0: 修复"加入购物车"按钮点击限制问题
- v1.6.0: 优化开始游戏时的页面刷新机制

---

**享受游戏，理性消费！** 🎮💡

通过体验本游戏，希望您能更好地理解消费心理学原理，在现实生活中做出更理性的购物决策。